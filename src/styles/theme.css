/**
 * App extensions: unified light-on-dark inputs
 * - Enforce white text and dark olive background for all text inputs and textareas
 * - Strong, accessible focus states and clear hover differentiation
 * - Error state via ARIA (aria-invalid="true")
 * - Uses site olive palette to keep the global theme consistent
 */

/* New input tokens merged into :root (multiple :root blocks are cumulative) */
:root {
  --input-text: #ffffff;                 /* strong light text */
  --input-placeholder: rgba(255,255,255,0.72);
  --input-bg: #1d2a1a;                   /* dark olive base */
  --input-bg-hover: #22311f;             /* slightly lighter on hover */
  --input-bg-focus: #192416;             /* slightly deeper on focus */
  --input-border: rgba(230,235,220,0.38);/* light olive border (subtle) */
  --input-border-hover: var(--brand-primary);
  --input-border-focus: var(--brand-primary);
  --input-shadow-focus: 0 0 0 3px var(--focus-ring), 0 1px 0 rgba(0,0,0,0.03);
  --input-shadow-error: 0 0 0 3px rgba(239, 68, 68, 0.2); /* red focus halo */
}

/* Global baseline for all text inputs and textareas
   - Skip checkbox/radio/range to avoid breaking native controls
   - Use !important to override scattered utility classes (bg-white, border-*)
*/
input:not([type="checkbox"]):not([type="radio"]):not([type="range"]),
textarea {
  color: var(--input-text) !important;
  background-color: var(--input-bg) !important;
  border-color: var(--input-border) !important;

  /* Ensure the same comfortable metrics everywhere */
  min-height: 44px;      /* comfortable touch target */
  border-width: 1px;
  border-style: solid;
  border-radius: 0.5rem; /* 8px */
  padding: 0.5rem 0.75rem;

  transition:
    border-color 140ms ease-in-out,
    box-shadow 140ms ease-in-out,
    background-color 140ms ease-in-out;
}

/* Hover state: clearer affordance */
input:not([type="checkbox"]):not([type="radio"]):not([type="range"]):hover,
textarea:hover {
  background-color: var(--input-bg-hover) !important;
  border-color: var(--input-border-hover) !important;
}

/* Focus visible: strong and accessible */
input:not([type="checkbox"]):not([type="radio"]):not([type="range"]):focus-visible,
textarea:focus-visible {
  outline: none;
  background-color: var(--input-bg-focus) !important;
  border-color: var(--input-border-focus) !important;
  box-shadow: var(--input-shadow-focus) !important;
}

/* Placeholder is lighter but still readable on dark backgrounds */
input::placeholder,
textarea::placeholder {
  color: var(--input-placeholder) !important;
}

/* Error state via ARIA: higher priority to ensure visibility */
input[aria-invalid="true"],
textarea[aria-invalid="true"] {
  border-color: #ef4444 !important; /* red-500 */
  box-shadow: var(--input-shadow-error) !important;
}

/* Disabled: dim while keeping legibility */
input:disabled,
textarea:disabled {
  opacity: 0.8;
  cursor: not-allowed;
  background-color: #1e211e !important; /* slightly grayer dark */
}

/* Keep the utility classes in sync (stronger specificity and placed after originals) */
.u-input,
.u-textarea,
.u-select {
  color: var(--input-text) !important;
  background-color: var(--input-bg) !important;
  border: 1px solid var(--input-border) !important;
  border-radius: 0.5rem;
  padding: 0.5rem 0.75rem;
  min-height: 44px;
  transition:
    border-color 140ms ease-in-out,
    box-shadow 140ms ease-in-out,
    background-color 140ms ease-in-out;
}

.u-input:hover,
.u-textarea:hover,
.u-select:hover {
  background-color: var(--input-bg-hover) !important;
  border-color: var(--input-border-hover) !important;
}

.u-input:focus-visible,
.u-textarea:focus-visible,
.u-select:focus-visible {
  outline: none;
  background-color: var(--input-bg-focus) !important;
  border-color: var(--input-border-focus) !important;
  box-shadow:
    var(--input-shadow-focus) !important;
}

.u-input::placeholder,
.u-textarea::placeholder {
  color: var(--input-placeholder) !important;
}

.u-input[aria-invalid="true"],
.u-textarea[aria-invalid="true"],
.u-select[aria-invalid="true"] {
  border-color: #ef4444 !important;
  box-shadow: var(--input-shadow-error) !important;
}

.u-input:disabled,
.u-textarea:disabled,
.u-select:disabled {
  opacity: 0.8;
  cursor: not-allowed;
  background-color: #1e211e !important;
}

/* -------------------------------------
   Brand: Responsive logo sizing
   - Only affects the site logo using the `.brand-logo` wrapper.
   - Aspect ratio is preserved because we set width only.
   - Smooth transitions make resizing feel polished.
-------------------------------------- */
.brand-logo {
  display: inline-block;
  /* Base width for in-between sizes (e.g., 421–767px) */
  width: 100px;
  height: auto;
  line-height: 0; /* remove inline gap */
}

.brand-logo img {
  display: block;
  width: 100%;
  height: auto;
  object-fit: contain;
}

/* Mobile: ≤ 420px */
@media (max-width: 420px) {
  .brand-logo {
    width: 80px;
  }
}

/* Tablet: 768–1023.98px (avoid overlap with desktop) */
@media (min-width: 768px) and (max-width: 1023.98px) {
  .brand-logo {
    width: 120px;
  }
}

/* Desktop: ≥ 1024px */
@media (min-width: 1024px) {
  .brand-logo {
    width: 160px;
  }
}

/* Smooth scaling transitions */
.brand-logo,
.brand-logo img {
  transition: width 180ms ease-in-out;
}
